services:
  # 1. Database Service (‡∏û‡∏£‡∏∞‡πÄ‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤)
  db:
    image: mysql:8.0 # ‡∏´‡∏£‡∏∑‡∏≠ mariadb:latest ‡∏ï‡∏≤‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏£‡∏∞‡∏ö‡∏∏
    container_name: skill_db_container
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: skills_db
      MYSQL_USER: user
      MYSQL_PASSWORD: password
      TZ: Asia/Bangkok
    ports:
      # üî• ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡πÄ‡∏õ‡∏¥‡∏î Port 3306 ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ
      # Backend (‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á) ‡πÅ‡∏•‡∏∞ HeidiSQL/DBeaver ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ
      - "3306:3306" 
    volumes:
      - db_data:/var/lib/mysql
      # ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå schema.sql ‡πÉ‡∏´‡πâ map ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏£‡∏±‡∏ô‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÄ‡∏•‡∏¢ (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤ import)
      # - ./schema.sql:/docker-entrypoint-initdb.d/00-schema.sql:ro
    networks:
      - skill_net

  # -------------------------------------------------------
  # 2. phpMyAdmin (‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï)
  # -------------------------------------------------------
  pma:
    image: phpmyadmin/phpmyadmin
    container_name: skill_pma_container
    environment:
      PMA_HOST: db
      PMA_USER: root
      PMA_PASSWORD: rootpassword
    ports:
      - "8080:80" # ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô http://localhost:8080
    depends_on:
      - db
    networks:
      - skill_net

  # -------------------------------------------------------
  # 3. Backend & Frontend (‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô)
  # * ‡∏ï‡∏≠‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞ comment ‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î) *
  # -------------------------------------------------------
  # api:
  #   build: ./backend
  #   ports: ["7000:7000"]
  #   depends_on: [db]
  #   networks: [skill_net]

  # web:
  #   build: ./frontend
  #   ports: ["3000:3000"]
  #   depends_on: [api]
  #   networks: [skill_net]

volumes:
  db_data:

networks:
  skill_net:
    driver: bridge